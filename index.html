<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>Mushi Breaker</title>
  <link rel="icon" href="data:;base64,iVBORw0KGgo=">
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="css/ui.css">
  <link rel="stylesheet" href="css/levelup.css">
</head>
<body>
  <!-- 로딩 화면 -->
  <div id="loadingScreen" style="
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    z-index: 9999;
  ">
    <h1 style="
      color: #ffd700;
      font-size: 48px;
      margin-bottom: 30px;
      text-shadow: 0 0 20px rgba(255, 215, 0, 0.8);
    ">Mushi Breaker</h1>
    <div style="
      width: 300px;
      height: 30px;
      background: rgba(255, 255, 255, 0.1);
      border: 2px solid #ffd700;
      border-radius: 15px;
      overflow: hidden;
      position: relative;
    ">
      <div id="loadingBar" style="
        width: 0%;
        height: 100%;
        background: linear-gradient(90deg, #ffd700 0%, #ffed4e 100%);
        transition: width 0.3s ease;
        box-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
      "></div>
    </div>
    <p id="loadingText" style="
      color: #fff;
      margin-top: 20px;
      font-size: 18px;
    ">Loading... 0%</p>
  </div>

  <div id="gameContainer">
    <canvas id="gameCanvas"></canvas>
    
    <!-- 타이틀 메뉴 버튼들 (Canvas 위 오버레이) -->
    <div id="titleMenuButtons" style="display: none;">
      <button id="startGameBtn" class="pixel-btn" data-action="start"></button>
      <button id="languageBtn" class="pixel-btn" data-action="language"></button>
      <button id="guideBtn" class="pixel-btn" data-action="guide"></button>
    </div>
    
    <!-- 뒤로가기 버튼 -->
    <button id="backButton" class="back-btn" style="display: none;"></button>
    
    <!-- 캐릭터 선택 버튼들 -->
    <div id="characterSelectButtons" style="display: none;">
      <button id="characterBtn1" class="character-btn" data-character="poacher">
        <div class="character-image" style="background-image: url('img/player/hunter_Stand.png');"></div>
        <div class="character-info">
          <h3 class="character-name">밀렵꾼</h3>
          <p class="character-weapon">시작 무기: <span>속사 기관총</span></p>
          <p class="character-specialty">특화: <span>공격 속도</span></p>
        </div>
      </button>
      <button id="characterBtn2" class="character-btn" data-character="arsonist">
        <div class="character-image" style="background-image: url('img/player/fireman_Stand.png');"></div>
        <div class="character-info">
          <h3 class="character-name">방화범</h3>
          <p class="character-weapon">시작 무기: <span>화염 방사기</span></p>
          <p class="character-specialty">특화: <span>공격 범위</span></p>
        </div>
      </button>
      <button id="characterBtn3" class="character-btn" data-character="criminal">
        <div class="character-image" style="background-image: url('img/player/criminal_Stand.png');"></div>
        <div class="character-info">
          <h3 class="character-name">범죄자</h3>
          <p class="character-weapon">시작 무기: <span>전기 체인</span></p>
          <p class="character-specialty">특화: <span>획득 범위</span></p>
        </div>
      </button>
    </div>
    
    <!-- Canvas 오버레이 (Canvas 크기에 맞춰 스케일링) -->
    <div id="canvasOverlay">
      <!-- UI 오버레이 -->
      <div id="gameUI" style="display: none;">
        <!-- 증강 슬롯 그룹 (중앙) -->
        <div id="slotsContainer">
          <!-- 증강 슬롯 (무기) -->
          <div id="augmentSlots">
            <div class="augment-slot"></div>
            <div class="augment-slot"></div>
            <div class="augment-slot"></div>
            <div class="augment-slot"></div>
            <div class="augment-slot"></div>
          </div>
          
          <!-- 스텟 슬롯 -->
          <div id="statSlots">
            <div class="stat-slot"></div>
            <div class="stat-slot"></div>
            <div class="stat-slot"></div>
            <div class="stat-slot"></div>
            <div class="stat-slot"></div>
          </div>
        </div>
        
        <!-- 체력바 (경험치바 바로 위) -->
        <div id="healthBar">
          <div id="healthFill"></div>
          <span id="healthText">100/100</span>
        </div>
        
        <!-- 경험치바 (맨 아래) -->
        <div id="expBar">
          <div id="expFill"></div>
          <span id="levelText">레벨 1</span>
        </div>
      </div>
      
      <!-- 레벨업 선택 화면 (숨김) -->
      <div id="levelUpScreen" class="hidden">
        <h2 id="levelUpTitle">숙련도 상승!</h2>
        <div id="augmentChoices"></div>
      </div>
    </div>
  </div>

  <script src="js/loader.js"></script>
  <script src="js/constants.js"></script>
  <script src="js/translations_helper.js"></script>
  <script src="js/state.js"></script>
  <script src="js/collision.js"></script>
  <script src="js/player.js"></script>
  <script src="js/enemies.js"></script>
  <script src="js/weapons1.js"></script>
  <script src="js/weapons2.js"></script>
  <script src="js/ui.js"></script>
  <script src="js/render.js"></script>
  <script src="js/menu.js"></script>
  <script src="js/main.js"></script>
</body>
</html>
