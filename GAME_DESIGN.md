# Mushi Breaker - 뱀서라이크 웹 게임 설계서

## 📋 프로젝트 개요
뱀서라이크(Vampire Survivors-like) 장르의 웹 기반 액션 게임

---

## 🎮 핵심 시스템

### 1. 플레이어 시스템
- **조작**: WASD 키로 이동
- **자동 공격**: 
  - 나아가는 방향으로 자동으로 바라봄
  - 가장 가까운 적을 자동 추적 및 공격
  - 이동 중에도 지속적으로 원거리 공격 수행

### 2. 카메라 및 맵 시스템
- **맵 구조**: 적당히 큰 사각형 맵
- **카메라 동작**: 
  - 플레이어를 캔버스 중앙에 고정
  - 플레이어 이동에 따라 카메라가 자동으로 추적
- **프레임 및 해상도**:
  - 다양한 기기에서 일관된 동작 보장
  - 프레임 독립적 움직임 처리 (deltaTime 기반)
  - 해상도 대응 처리

### 3. 적 생성 및 AI 로직
#### 일반 적 생성
- **생성 위치**: 맵 끝 (랜덤 위치)
- **외형**: 빨간색 박스
- **특징**: 다수의 적이 지속적으로 생성

#### 적 행동 패턴
- **근접형 적**: 플레이어와 접촉 시 피해 입힘
- **원거리형 적**: 
  - 플레이어 방향으로 발사체를 일직선으로 발사
  - 발사체에 맞을 시 피해 입힘
- **공통 특성**:
  - 개체마다 체력 존재
  - 플레이어 공격에 맞으면 약간 밀려남 (넉백)
  - 체력 UI는 없지만 내부적으로 체력 관리

#### 보스 시스템
- **등장 주기**: 1분마다 출현
- **특징**:
  - 플레이어 공격에 밀려나지 않음 (넉백 면역)
  - 여러 패턴 공격 사용

### 4. 난이도 시스템
#### 시간 경과에 따른 난이도 상승
- **적 강화**:
  - 체력이 더 많은 강화형 몹 등장
  - 더 강한 데미지를 입힘
  - 경험치 보상도 더 많이 제공
- **난이도 특징**:
  - ⚠️ 수치는 가변적이지 않음 (고정된 몹 타입)
  - 시간이 지남에 따라:
    - 적 출몰 빈도 증가
    - 어려운 타입의 몹 추가 등장

### 5. 경험치 및 레벨업 시스템
#### 경험치 획득
- **드랍 방식**: 
  - 적 처치 시 초록색 원 드랍
  - 플레이어가 가까이 가면 자석처럼 흡수

#### 레벨업 시스템
- **회복**: 최대 체력의 30% 회복
- **증강 선택**:
  - 게임 일시 정지
  - 랜덤 조합된 증강 옵션 제시
  - 공격 관련 증강 또는 추가 능력치 선택
  - 선택 시 게임 재개

#### 증강 시스템 (추후 상세 설계)
- 공격력 강화
- 공격 속도 증가
- 이동 속도 증가
- 체력 증가
- 특수 능력 추가
- 등등...

### 6. UI 시스템
#### 하단 UI 레이아웃
```
┌─────────────────────────────────────────┐
│  [체력바: ■■■■■■□□ 70/100]  [증강1][증강2][증강3][증강4][증강5]  │
├─────────────────────────────────────────┤
│  [경험치바: ■■■■■■■□□□□□ 레벨 5]         │
└─────────────────────────────────────────┘
```

- **체력바** (상단 좌측):
  - 빨간색 게이지
  - 내부에 명확한 수치 표시 (현재/최대)
- **증강 슬롯** (상단 우측):
  - 5개 슬롯
  - 획득한 증강 아이콘 표시
- **경험치바** (최하단):
  - 초록색 게이지
  - 경험치 획득 시 차오름
  - 꽉 차면 레벨업

---

## 🛠️ 기술 구현 사항

### 프레임 및 해상도 처리
- `requestAnimationFrame` 사용
- deltaTime 기반 프레임 독립적 처리
- 다양한 해상도 대응 (반응형 캔버스)
- 크로스 브라우저 호환성 보장

### 게임 루프 구조
1. 입력 처리
2. 게임 로직 업데이트 (deltaTime 적용)
3. 충돌 감지
4. 렌더링
5. UI 갱신

---

## 📦 파일 구조
```
Mushi_Breaker/
├── index.html          # 메인 HTML
├── css/
│   └── style.css       # 스타일시트
├── js/
│   └── game.js         # 게임 로직
└── GAME_DESIGN.md      # 이 문서
```

---

## 🎯 개발 우선순위

### Phase 1: 기본 시스템 구축
1. ✅ 프레임 및 해상도 처리
2. ✅ 플레이어 이동 (WASD)
3. ✅ 카메라 시스템 (플레이어 중앙 고정)
4. ✅ 맵 경계 설정

### Phase 2: 전투 시스템
1. 플레이어 자동 공격
2. 적 생성 및 AI
3. 충돌 감지 및 피해 처리
4. 넉백 시스템

### Phase 3: 진행 시스템
1. 경험치 드랍 및 획득
2. 레벨업 시스템
3. 증강 선택 UI
4. 난이도 증가 로직

### Phase 4: 고급 기능
1. 보스 시스템
2. 다양한 증강 구현
3. 효과음 및 시각 효과
4. 게임 오버 및 재시작

---

## 📝 메모
- 증강 시스템 세부 내용은 별도 문서로 작성 예정
- 적 타입별 능력치 테이블 작성 필요
- 보스 패턴 설계 필요
